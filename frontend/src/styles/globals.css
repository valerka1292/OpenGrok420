@import "tailwindcss";

:root {
  --bg-global:#020617;--bg-surface-1:#0f172a;--bg-surface-2:#172033;--bg-surface-3:#2d3a52;--bg-elevated:#0f172a;--bg-overlay:rgba(2,6,23,.82);
  --border-subtle:#1e293b;--border-default:#52525b;--border-strong:#71717a;--border-focus:rgba(59,130,246,.55);
  --text-primary:#fafafa;--text-secondary:#cbd5e1;--text-tertiary:#94a3b8;--text-disabled:#52525b;
  --agent-grok:#2dd4bf;--agent-grok-dim:rgba(45,212,191,.18);--agent-harper:#e879f9;--agent-harper-dim:rgba(232,121,249,.18);--agent-benjamin:#818cf8;--agent-benjamin-dim:rgba(129,140,248,.18);--agent-lucas:#fb923c;--agent-lucas-dim:rgba(251,146,60,.20);
  --status-thought:#94a3b8;--status-tool-use:#4ade80;--status-chatroom-send:#f472b6;--status-wait:#facc15;--status-guard-prompt:#f87171;
  --color-success:#10b981;--color-warning:#f59e0b;--color-error:#ef4444;--color-info:#3b82f6;
}

@theme {
  --color-bg-global: var(--bg-global);
  --color-bg-surface-1: var(--bg-surface-1);
  --color-bg-surface-2: var(--bg-surface-2);
  --color-bg-surface-3: var(--bg-surface-3);
  --color-bg-elevated: var(--bg-elevated);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-tertiary: var(--text-tertiary);
  --color-border-subtle: var(--border-subtle);
  --color-border-default: var(--border-default);
  --color-agent-grok: var(--agent-grok);
  --color-agent-harper: var(--agent-harper);
  --color-agent-benjamin: var(--agent-benjamin);
  --color-agent-lucas: var(--agent-lucas);
}

* { box-sizing: border-box; }
html, body, #root { height:100%; }
body { margin:0; overflow:hidden; background:var(--bg-global); color:var(--text-primary); font-family:'Inter','Geist Sans',sans-serif; }
::selection { background: rgba(59,130,246,.3); }
:focus-visible { outline:2px solid var(--border-focus); outline-offset:2px; }
::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background:#3f3f46;border-radius:999px;}
*{scrollbar-width:thin;scrollbar-color:#3f3f46 transparent;}

.new-thread-btn{background:var(--bg-surface-2);border:1px solid var(--border-default);border-radius:8px;padding:10px 12px;color:var(--text-primary);transition:all 120ms ease}
.new-thread-btn:hover{background:var(--bg-surface-3)}

@media (prefers-reduced-motion: reduce){*,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}

/* Стили для Markdown Renderer */
.markdown-body {
  @apply text-[15px] leading-relaxed text-text-secondary;
}

/* Заголовки */
.markdown-body h1 { @apply text-2xl font-semibold mb-4 mt-8 text-text-primary tracking-tight; }
.markdown-body h2 { @apply text-xl font-semibold mb-4 mt-8 text-text-primary border-b border-border-subtle pb-2; }
.markdown-body h3 { @apply text-lg font-medium mb-3 mt-6 text-text-primary; }
.markdown-body h4 { @apply text-base font-medium mb-2 mt-5 text-text-primary; }
.markdown-body h5, .markdown-body h6 { @apply text-sm font-medium mb-2 mt-4 text-text-tertiary uppercase tracking-wide; }

/* Текст и абзацы */
.markdown-body p { @apply my-3; }
.markdown-body strong { @apply font-semibold text-text-primary; }
.markdown-body em { @apply italic text-text-secondary; }
.markdown-body del { @apply text-text-tertiary decoration-border-default; }

/* Ссылки */
.markdown-body a {
  @apply text-agent-benjamin no-underline border-b border-agent-benjamin/30 pb-[1px] hover:border-agent-benjamin hover:text-blue-400 transition-colors duration-200;
}

/* Списки */
.markdown-body ul { @apply list-disc pl-6 my-4 space-y-1.5 marker:text-text-tertiary; }
.markdown-body ol { @apply list-decimal pl-6 my-4 space-y-1.5 marker:text-text-tertiary; }
.markdown-body li { @apply pl-1; }
.markdown-body li > p { @apply my-1; }

/* Цитаты */
.markdown-body blockquote {
  @apply border-l-2 border-border-default bg-white/[0.02] py-2 pl-4 pr-3 my-5 rounded-r-lg italic text-text-secondary;
}
.markdown-body blockquote p { @apply my-1; }

/* Горизонтальная линия */
.markdown-body hr { @apply my-8 border-t border-border-subtle; }

/* Таблицы */
.markdown-body table { @apply w-full my-6 text-sm border-collapse overflow-hidden; }
.markdown-body thead { @apply bg-bg-surface-2 border-b border-border-default; }
.markdown-body th { @apply px-4 py-2.5 text-left font-semibold text-text-primary whitespace-nowrap; }
.markdown-body tbody tr { @apply border-b border-border-subtle hover:bg-white/[0.02] transition-colors; }
.markdown-body tbody tr:last-child { @apply border-0; }
.markdown-body td { @apply px-4 py-2.5 align-top; }

/* Инлайн-код (исключаем блоки pre, чтобы не сломать подсветку синтаксиса) */
.markdown-body :not(pre) > code {
  @apply bg-[rgba(244,63,94,0.15)] text-agent-lucas px-1.5 py-0.5 rounded-md text-[13px] font-mono whitespace-nowrap;
}

/* Избавляемся от дефолтных кавычек вокруг inline code от Tailwind Typography (если они есть) */
.markdown-body :not(pre) > code::before,
.markdown-body :not(pre) > code::after {
  content: none !important;
}

/* Сноски (Footnotes) */
.markdown-body .footnotes {
  @apply mt-10 pt-4 border-t border-border-subtle text-[13px] text-text-tertiary;
}
.markdown-body .footnotes h2 { @apply hidden; }
.markdown-body .footnotes ol { @apply list-decimal pl-5 space-y-2; }
.markdown-body .data-footnote-backref {
  @apply text-agent-grok ml-1 px-1 border-0 hover:bg-agent-grok/10 rounded no-underline;
}
